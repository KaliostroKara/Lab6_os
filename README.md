# Lab6_os


 
1. Помножити матриці A[n x m] та B[m x k] (автоматично заповнені). Для обчислення створити 1..n*k однотипних потоків для обчислень (множення векторів або сукупності векторів).

1.1. (2 бала) Продемонструвати паралелізм (непослідовність) обчислень через виведення результату (трійками [x,y]=result) “по ходу обчислень”.

1.2.* (+3 бала) Дослідити швидкодію A*B залежно від кількості потоків для розпаралелення множення. Продемонструвати та пояснити цю залежність. За якої кількості потоків множення буде найшвидшим? Підтвердити експериментально.
 
2. Змоделювати паралельну роботу двох потоків (threads) зі спільною коміркою пам’яті (shared variable):

а) з використанням критичного сегменту (або atomic, mutex, lock, і т.п.)

б) без використання критичного сегменту. 

2.1. (2 бала) Продемонструвати різницю результатів обчислень у цих двох випадках. (Наприклад, збільшувати значення спільної комірки на 1: v=v+1; 10^9 разів в кожному потоці і дивитись результуюче значення v.)

2.2. (+1 бал) Проаналізувати часову різницю різних варіантів реалізації та пояснити, чому іноді можливе отримання некоректного кінцевого результату (race condition).

2.3. (+1 бал) Спробувати досягти якомога швидшого результату при збереженні коректності обчислень (правильного фінального значення).

2.3.* (+3 балів) Досягти варіанту, коли таке паралельне додавання виконується повністю синхронно, тобто, наприклад, 1000 додавань виконуються паралельно двома потоками крок-в-крок і збільшують значення спільної змінної від 0 до 1000. Тобто, не тільки кожний з двох паралельних потоків збільшує значення від 0 до 1000, а й обидва, запущені в паралель, також збільшують від 0 до 1000 (а не до 2000, як очікувалось би)
